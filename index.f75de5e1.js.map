{"mappings":"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","sources":["src/scripts/main.js"],"sourcesContent":["'use strict';\n\nconst table = document.querySelector('table');\nconst tbody = document.querySelector('tbody');\nconst form = document.createElement('form');\n\nform.classList.add('new-employee-form');\n\nconst formFields = ['Name', 'Position', 'Office', 'Age', 'Salary'];\nconst offices = [\n  'Tokyo',\n  'Singapore',\n  'London',\n  'New York',\n  'Edinburgh',\n  'San Francisco',\n];\n\nconst fragment = document.createDocumentFragment();\n\ntbody.addEventListener('click', (e) => {\n  if (e.target.tagName === 'TD') {\n    e.target.parentElement.classList.toggle('active');\n  }\n});\n\ntbody.addEventListener('dblclick', (e) => {\n  if (e.target.tagName === 'TD') {\n    const cell = e.target;\n    const originalText = cell.textContent;\n    const input = document.createElement('input');\n\n    input.type = 'text';\n    input.value = originalText;\n    cell.textContent = '';\n    cell.appendChild(input);\n    input.focus();\n\n    input.addEventListener('keydown', function (ev) {\n      if (ev.key === 'Enter') {\n        cell.textContent = input.value || originalText;\n      }\n    });\n\n    input.addEventListener('blur', function () {\n      cell.textContent = input.value || originalText;\n    });\n  }\n});\n\nformFields.forEach((field) => {\n  const normalizeName = field.toLocaleLowerCase();\n  const label = document.createElement('label');\n\n  label.textContent = field + ': ';\n\n  if (field === 'Office') {\n    const select = document.createElement('select');\n\n    select.setAttribute('name', `${normalizeName}`);\n\n    offices.forEach((office) => {\n      const option = document.createElement('option');\n\n      option.textContent = office;\n      select.append(option);\n    });\n\n    select.setAttribute('data-qa', `${normalizeName}`);\n    select.setAttribute('required', true);\n    label.append(select);\n    fragment.append(label);\n  } else {\n    const input = document.createElement('input');\n\n    input.setAttribute('data-qa', `${normalizeName}`);\n    input.setAttribute('name', `${normalizeName}`);\n    input.setAttribute('required', true);\n\n    if (field === 'Age' || field === 'Salary') {\n      input.setAttribute('type', 'number');\n    } else {\n      input.setAttribute('type', 'text');\n    }\n\n    if (field === 'Age') {\n      input.setAttribute('min', 18);\n      input.setAttribute('max', 90);\n    }\n\n    label.append(input);\n    fragment.append(label);\n  }\n});\n\nconst button = document.createElement('button');\n\nbutton.textContent = 'Save to table';\n\nfragment.append(button);\nform.append(fragment);\ndocument.body.firstElementChild.after(form);\n\nconst formBtn = form.querySelector('button');\n\nfunction addSeparator(num) {\n  return num.toLocaleString('en-US');\n}\n\nfunction CustomNotification(title, description, type) {\n  this.title = title;\n  this.description = description;\n  this.type = type;\n}\n\nconst pushNotification = ({ title, description, type }) => {\n  const notification = document.createElement('div');\n\n  notification.classList.add('notification', `${type}`);\n  notification.style.top = 15 + 'px';\n  notification.style.right = 15 + 'px';\n\n  const fragmentNot = document.createDocumentFragment();\n  const titleNot = document.createElement('h2');\n\n  titleNot.classList.add('title');\n  titleNot.textContent = title;\n\n  const descriptionNot = document.createElement('p');\n\n  descriptionNot.textContent = description;\n\n  fragmentNot.append(titleNot);\n  fragmentNot.append(descriptionNot);\n  notification.append(fragmentNot);\n\n  document.body.append(notification);\n\n  setTimeout(() => {\n    notification.hidden = true;\n  }, 2000);\n};\n\nformBtn.addEventListener('click', (e) => {\n  e.preventDefault();\n\n  const formValues = {\n    employeeName: form.elements.name.value,\n    position: form.elements.position.value,\n    office: form.elements.office.value,\n    age: form.elements.age.value,\n    salary: form.elements.salary.value.trim(),\n  };\n\n  const formSalaryValue =\n    !formValues.salary || isNaN(formValues.salary)\n      ? ''\n      : '$' + addSeparator(+formValues.salary);\n\n  const fields = validateFormFields(formValues);\n\n  pushNotification(fields[0]);\n\n  if (fields[0].type === 'success') {\n    const row = addRow([\n      formValues.employeeName,\n      formValues.position,\n      formValues.office,\n      formValues.age,\n      formSalaryValue,\n    ]);\n\n    tbody.append(row);\n  }\n\n  form.reset()\n});\n\nfunction validateFormFields({ employeeName, position, office, age, salary }) {\n  const notifications = [];\n\n  if (employeeName.length < 4) {\n    notifications.push(\n      new CustomNotification(\n        'Error',\n        'Name must be at least 4 characters long',\n        'error',\n      ),\n    );\n  }\n\n  if (!position.trim()) {\n    notifications.push(\n      new CustomNotification('Error', 'Position cannot be empty', 'error'),\n    );\n  }\n\n  if (!office.trim() || !offices.includes(office)) {\n    notifications.push(\n      new CustomNotification(\n        'Error',\n        'Office cannot be empty, and should contain one of the defined options',\n        'error',\n      ),\n    );\n  }\n\n  if (age < 18 || age > 90) {\n    notifications.push(\n      new CustomNotification('Error', 'Age must be between 18 and 90', 'error'),\n    );\n  }\n\n  if (salary <= 0 || isNaN(salary)) {\n    notifications.push(\n      new CustomNotification(\n        'Error',\n        'The value of salary must be a number greater than 0',\n        'error',\n      ),\n    );\n  }\n\n  if (notifications.length === 0) {\n    notifications.push(\n      new CustomNotification('Success', 'Data successfully added', 'success'),\n    );\n  }\n\n  return notifications;\n}\n\nfunction addRow(fields) {\n  const row = document.createElement('tr');\n\n  fields.forEach((field) => {\n    const td = document.createElement('td');\n\n    td.textContent = field;\n    row.append(td);\n  });\n\n  return row;\n}\n\nconst headers = document.querySelectorAll('thead th');\n\nheaders.forEach((header) => {\n  header.addEventListener('click', () => {\n    const index = header.cellIndex;\n    const currentSort = header.dataset.sort;\n    const newSortOrder =\n      !currentSort || currentSort === 'DESC' ? 'ASC' : 'DESC';\n\n    headers.forEach((h) => delete h.dataset.sort);\n    header.dataset.sort = newSortOrder;\n\n    let rows = [...table.querySelectorAll('tr:has(td)')];\n\n    rows = sortedRows(rows, header.textContent, index, newSortOrder);\n\n    tbody.innerHTML = '';\n    rows.forEach((row) => tbody.append(row));\n  });\n});\n\nfunction sortedRows(arr, val, i, order) {\n  switch (val) {\n    case 'Age':\n      return arr.sort((a, b) => {\n        const first = +a.cells[i].textContent;\n        const second = +b.cells[i].textContent;\n\n        return order === 'DESC' ? second - first : first - second;\n      });\n\n    case 'Salary':\n      return arr.sort((a, b) => {\n        const rowA = parseFloat(a.cells[i].textContent.trim().slice(1));\n        const rowB = parseFloat(b.cells[i].textContent.trim().slice(1));\n\n        return order === 'DESC' ? rowB - rowA : rowA - rowB;\n      });\n\n    default:\n      return arr.sort((a, b) => {\n        const rowA = a.cells[i].textContent.trim();\n        const rowB = b.cells[i].textContent.trim();\n\n        return order === 'DESC'\n          ? rowB.localeCompare(rowA)\n          : rowA.localeCompare(rowB);\n      });\n  }\n}\n"],"names":[],"version":3,"file":"index.f75de5e1.js.map","sourceRoot":"/__parcel_source_root/"}